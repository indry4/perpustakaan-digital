<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Library</title>
    <link rel="stylesheet" href="stylecadangan.css">
</head>
<body>
    <div class="top-bar">
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search book title...">
            <button onclick="searchBook()">Search</button>
        </div>
        <div class="user-icon" onclick="openProfilePopup()">
            <img src="spongebob profile.png" alt="User Icon">
        </div>
    </div>

    <div class="profile-popup" id="profilePopup">
        <div class="popup-header">
            <button onclick="closeProfilePopup()" class="close-popup-button">&times;</button>
        </div>
        <div class="profile-screen" id="profileMain">
            <div class="profile-header">
                <img src="spongebob profile.png" class="profile-img" id="profileImage" alt="profile Image" onclick="triggerImageUpload()">
                <input type="file" id="imageUpload" accept="image/*" onchange="changeProfileImage()" style="display: none;" title="Upload Profile Image">
                <h2 id="profileName">Your Name</h2>
            </div>
            <div class="profile-options">
                <button onclick="showEditProfile()">Edit Profile</button>
                <button onclick="showChangePassword()">Change Password</button>
                <button class="sign-out" onclick="signOut()">Sign Out</button>
            </div>
        </div>

        <div class="profile-screen" id="editProfile" style="display: none;">
            <div class="back-btn" onclick="backToMain()">←</div>
            <h2>Edit Profile</h2>
            <input type="text" id="editFullName" placeholder="Full Name">
            <input type="text" id="editUsername" placeholder="Username">
            <input type="email" id="editEmail" placeholder="Email">
            <button onclick="saveProfile()">Save</button>
        </div>

        <div class="profile-screen" id="changePassword" style="display: none;">
            <div class="back-btn" onclick="backToMain()">←</div>
            <h2>Change Password</h2>
            <input type="password" id="oldPassword" placeholder="Current Password">
            <input type="password" id="newPassword" placeholder="New Password">
            <button onclick="savePassword()">Save</button>
        </div>
    </div>

    <header>
        <div class="header-content">
            <h1>Welcome to the Digital Library</h1>
            <p class="running-text">Your dream starts from the first page...</p>
        </div>
    </header>

    <nav class="navbar">
        <ul>
            <li><a href="#" onclick="openPopup('exploreBooksPopup')">Explore Books</a></li>
            <li><a href="#" onclick="openPopup('topBooksPopup')">Top Books</a></li>
            <li><a href="#" onclick="openPopup('contactPopup')">Contact</a></li>
        </ul>
    </nav>

    <section id="recommendationSection">
        <h2>Recommendation Books</h2>
        <div id="recommendationBooks" class="book-grid"></div>
    </section>

    <div id="exploreBooksPopup" class="popup">
        <div class="popup-content">
            <span class="close" onclick="closePopup('exploreBooksPopup')">&times;</span>
            <h2>Explore Books</h2>
            <div id="exploreBooksList" class="book-grid"></div>
        </div>
    </div>

    <div id="topBooksPopup" class="popup">
        <div class="popup-content">
            <span class="close" onclick="closePopup('topBooksPopup')">&times;</span>
            <h2>Top Books</h2>
            <div id="topBooksList" class="book-grid"></div>
        </div>
    </div>

    <div id="contactPopup" class="popup">
        <div class="popup-content">
            <span class="close" onclick="closePopup('contactPopup')">&times;</span>
            <h2>Contact Us</h2>
            <div class="social-icons">
                <a href="https://wa.me/6281312277098" target="_blank"><img src="wa new.png" alt="WhatsApp"></a>
                <a href="https://www.instagram.com/indry9190" target="_blank"><img src="ig new.png" alt="Instagram"></a>
                <a href="https://t.me/Indrytias" target="_blank"><img src="telegram new.png" alt="Telegram"></a>
            </div>
        </div>
    </div>

    <div id="bookPopup" class="popup">
        <div class="popup-content popup-baca">
            <h2 id="bookTitle"></h2>
            <img id="bookCover" src="" alt="Book Cover" class="book-cover">
            <p id="bookDescription"></p>
            <button onclick="window.location.href='story_page.html'">Baca Buku</button>
            <button onclick="closePopup('bookPopup')">Kembali</button>
        </div>
        </div>

    <script src="scriptcadangan.js"></script>

</body>
</html>